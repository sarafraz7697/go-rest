# ğŸ›’ E-Commerce API

A clean and scalable REST API built with **Go (Golang)** and the **Fiber** framework. It follows best practices, including **layered architecture**, **JWT authentication**, **role-based access control (RBAC)**, and **MongoDB** as the database.

---

## âœ¨ Features

- **User Authentication** â€“ Register, login, and update profiles
- **Role-Based Access Control (RBAC)** â€“ Restrict routes based on user roles
- **Product Management** â€“ Full **CRUD** (Create, Read, Update, Delete) operations
- **Validation Middleware** â€“ DTO validation with `go-playground/validator`
- **JWT Authentication** â€“ Secure authentication using JWT tokens
- **MongoDB Integration** â€“ Store data securely in MongoDB
- **Dependency Injection** â€“ Organized structure for services, repositories, and controllers

---

## ğŸš€ Installation

### Prerequisites

- **Go** `1.18+`
- **MongoDB** installed and running

### 1ï¸âƒ£ Clone the Repository

```sh
git clone https://github.com/your-repo/ecommerce-api.git
cd ecommerce-api
```

### 2ï¸âƒ£ Install Dependencies

```sh
go mod tidy
```

### 3ï¸âƒ£ Configure Environment Variables

Create a `.env` file in the project root with the following content:

```env
PORT=8080
SECRET_KEY=mysecretkey

DB_HOST=localhost
DB_USER=admin
DB_PASS=12345
DB_PORT=27017
DB_NAME=ecommerce
```

### 4ï¸âƒ£ Run the Application

```sh
go run main.go
```

---

## ğŸ“ Project Structure

```
â”œâ”€â”€ config/         # Database connection & environment config
â”œâ”€â”€ controllers/    # Route handlers (business logic)
â”œâ”€â”€ middlewares/    # Authentication, validation, and RBAC
â”œâ”€â”€ models/         # Database models (MongoDB schemas)
â”œâ”€â”€ repository/     # Database queries and interactions
â”œâ”€â”€ routes/         # API route definitions
â”œâ”€â”€ services/       # Business logic layer
â”œâ”€â”€ utils/          # Utility functions (JWT, validation, etc.)
â”œâ”€â”€ dtos/           # Data transfer objects for requests
â”œâ”€â”€ main.go         # Application entry point
â””â”€â”€ go.mod          # Dependencies
```

---

## ğŸ“Œ API Endpoints

### ğŸ”‘ Authentication Routes

| Method | Endpoint         | Description         | Auth Required |
| ------ | ---------------- | ------------------- | ------------- |
| POST   | `/auth/register` | Register a new user | âŒ No         |
| POST   | `/auth/login`    | Authenticate user   | âŒ No         |
| PUT    | `/auth/profile`  | Update user profile | âœ… Yes        |

### ğŸ› Product Routes

| Method | Endpoint       | Description            | Auth Required | Role  |
| ------ | -------------- | ---------------------- | ------------- | ----- |
| POST   | `/product`     | Create a new product   | âœ… Yes        | Admin |
| GET    | `/product`     | Get all products       | âœ… Yes        | Any   |
| GET    | `/product/:id` | Get product by ID      | âœ… Yes        | Any   |
| PUT    | `/product/:id` | Update product details | âœ… Yes        | Admin |
| DELETE | `/product/:id` | Delete a product       | âœ… Yes        | Admin |

---

## ğŸ›  Technologies Used

- **[Go Fiber](https://gofiber.io/)** â€“ Web framework
- **[MongoDB](https://www.mongodb.com/)** â€“ NoSQL database
- **[JWT](https://jwt.io/)** â€“ JSON Web Token authentication
- **[go-playground/validator](https://github.com/go-playground/validator)** â€“ DTO validation middleware

---

## ğŸ³ Running with Docker

Set up MongoDB using Docker:

```sh
docker run --name mongodb -d -p 27017:27017 \
  -e MONGO_INITDB_ROOT_USERNAME=admin \
  -e MONGO_INITDB_ROOT_PASSWORD=12345 \
  mongo
```

---

## ğŸ“œ License

This project is licensed under the **MIT License**.
